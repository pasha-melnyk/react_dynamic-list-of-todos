{"version":3,"sources":["components/TodoList/TodoList.tsx","api.ts","components/CurrentUser/CurrentUser.tsx","App.tsx","index.tsx"],"names":["TodoList","todos","selectUser","selectedUserId","handleChange","changeTodoStatus","titleToSearch","todosToShow","randomize","className","htmlFor","type","id","name","placeholder","value","onChange","event","classNames","onClick","map","todo","completed","checked","title","userId","API_URL","CurrentUser","state","user","this","loadUser","prevProps","props","a","fetch","then","response","json","setState","email","phone","React","Component","App","prepareTodos","copiedTodos","filter","toLowerCase","includes","currentTarget","todoId","changedTodos","randomizeOrder","sort","Math","random","preparedTodos","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.38afc0aa.chunk.js","sourcesContent":["import React from 'react';\nimport './TodoList.scss';\nimport classNames from 'classnames';\n\ntype Props = {\n  todos: Todo[];\n  selectUser: (selectedUserId: number) => void;\n  selectedUserId: number;\n  handleChange: (event: React.ChangeEvent<HTMLInputElement>\n  | React.ChangeEvent<HTMLSelectElement>) => void;\n  changeTodoStatus: (todoId: number) => void;\n  titleToSearch: string;\n  todosToShow: string;\n  randomize: () => void;\n};\n\nexport const TodoList: React.FC<Props> = ({\n  todos,\n  selectUser,\n  selectedUserId,\n  handleChange,\n  changeTodoStatus,\n  titleToSearch,\n  todosToShow,\n  randomize,\n}) => (\n  <div className=\"TodoList\">\n    <h2>Todos:</h2>\n    <div className=\"TodoList__search-bar\">\n      <label className=\"label\" htmlFor=\"title-input\">\n        Search todo:\n        <div className=\"control\">\n          <input\n            type=\"text\"\n            className=\"input TodoList__title-input\"\n            id=\"title-search-bar\"\n            name=\"titleToSearch\"\n            placeholder=\"Title\"\n            value={titleToSearch}\n            onChange={(event) => handleChange(event)}\n          />\n        </div>\n      </label>\n\n      <div className=\"select\">\n        <select\n          name=\"todosToShow\"\n          value={todosToShow}\n          onChange={(event) => handleChange(event)}\n        >\n          <option value=\"\">Show all</option>\n          <option value=\"active\">Active</option>\n          <option value=\"completed\">Completed</option>\n        </select>\n      </div>\n      <button\n        type=\"button\"\n        name=\"isRandomized\"\n        className={classNames(\n          'button',\n          'TodoList__randomize-button',\n          'is-light',\n        )}\n        onClick={() => randomize()}\n      >\n        Randomize\n      </button>\n    </div>\n\n    <div className=\"TodoList__list-container\">\n      <ul className=\"TodoList__list\">\n        {todos.map(todo => (\n          <li\n            className={classNames(\n              'TodoList__item',\n              { 'TodoList__item--unchecked': !todo.completed },\n              { 'TodoList__item--checked': todo.completed },\n            )}\n            key={todo.id}\n          >\n\n            <label htmlFor={`todo-checkbox-${todo.id}`}>\n              <input\n                type=\"checkbox\"\n                id={`todo-checkbox-${todo.id}`}\n                name=\"todo-checkbox\"\n                checked={todo.completed}\n                onChange={() => changeTodoStatus(todo.id)}\n              />\n              <p>\n                {todo.title}\n                {todo.id}\n              </p>\n            </label>\n\n            <button\n              className={classNames(\n                'TodoList__user-button',\n                'button',\n                { 'TodoList__user-button--selected': selectedUserId === todo.userId },\n              )}\n              type=\"button\"\n              value={todo.userId}\n              onClick={() => selectUser(todo.userId)}\n            >\n              {`User#${todo.userId}`}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  </div>\n);\n","const API_URL = 'https://mate.academy/students-api';\n\nexport function getTodos(): Promise<Todo[]> {\n  return fetch(`${API_URL}/todos`)\n    .then(response => response.json());\n}\n\nexport function getUser(userId: number): Promise<User> {\n  return fetch(`${API_URL}/users/${userId}`)\n    .then(response => response.json());\n}\n","import React from 'react';\nimport './CurrentUser.scss';\nimport { getUser } from '../../api';\n\ntype Props = {\n  selectedUserId: number;\n  selectUser: (selectedUserId: number) => void;\n};\n\ntype State = {\n  user: User | null;\n};\n\nexport class CurrentUser extends React.Component<Props, State> {\n  state: State = {\n    user: null,\n  };\n\n  componentDidMount() {\n    this.loadUser();\n  }\n\n  componentDidUpdate(prevProps: Props) {\n    if (this.props.selectedUserId !== prevProps.selectedUserId) {\n      this.loadUser();\n    }\n  }\n\n  async loadUser() {\n    const user = await getUser(this.props.selectedUserId);\n\n    this.setState({ user });\n  }\n\n  render() {\n    const { user } = this.state;\n    const { selectedUserId, selectUser } = this.props;\n\n    return (\n      <>\n        {user && (\n          <div className=\"CurrentUser\">\n            <h2 className=\"CurrentUser__title\">\n              <span>{`Selected user: ${selectedUserId}`}</span>\n            </h2>\n\n            <h3 className=\"CurrentUser__name\">{user.name}</h3>\n            <p className=\"CurrentUser__email\">{user.email}</p>\n            <p className=\"CurrentUser__phone\">{user.phone}</p>\n\n            <button\n              type=\"button\"\n              className=\"button CurrentUser__clear\"\n              onClick={() => selectUser(0)}\n            >\n              Clear\n            </button>\n          </div>\n        )}\n      </>\n    );\n  }\n}\n","import React from 'react';\nimport './App.scss';\nimport './styles/general.scss';\nimport { TodoList } from './components/TodoList';\nimport { CurrentUser } from './components/CurrentUser';\nimport { getTodos } from './api';\n\ninterface State {\n  selectedUserId: number;\n  todos: Todo[];\n  titleToSearch: string;\n  todosToShow: string;\n}\n\nclass App extends React.Component<{}, State> {\n  state: State = {\n    selectedUserId: 0,\n    todos: [],\n    titleToSearch: '',\n    todosToShow: 'all',\n  };\n\n  async componentDidMount() {\n    const todos = await getTodos();\n\n    this.setState({ todos: [...todos] });\n  }\n\n  selectUser = (selectedUserId: number) => {\n    if (selectedUserId === this.state.selectedUserId) {\n      this.setState({ selectedUserId: 0 });\n    } else {\n      this.setState({ selectedUserId });\n    }\n  };\n\n  prepareTodos = () => {\n    const {\n      todos,\n      titleToSearch,\n      todosToShow,\n    } = this.state;\n\n    let copiedTodos = [...todos];\n\n    if (titleToSearch) {\n      copiedTodos = copiedTodos.filter(\n        todo => todo.title.toLowerCase().includes(titleToSearch.toLowerCase()),\n      );\n    }\n\n    switch (todosToShow) {\n      case 'active':\n        return copiedTodos.filter(todo => !todo.completed);\n\n      case 'completed':\n        return copiedTodos.filter(todo => todo.completed);\n\n      default:\n        return copiedTodos;\n    }\n  };\n\n  handleChange = (event: React.ChangeEvent<HTMLInputElement>\n  | React.ChangeEvent<HTMLSelectElement>) => {\n    const { name, value } = event.currentTarget;\n\n    this.setState((state) => ({\n      ...state,\n      [name]: value,\n    }));\n  };\n\n  changeTodoStatus = (todoId: number) => {\n    const { todos } = this.state;\n\n    const changedTodos = todos.map(todo => {\n      if (todo.id === todoId) {\n        return {\n          ...todo,\n          completed: !todo.completed,\n        };\n      }\n\n      return todo;\n    });\n\n    this.setState({\n      todos: changedTodos,\n    });\n  };\n\n  randomizeOrder = () => {\n    const { todos } = this.state;\n    const copiedTodos = [...todos];\n\n    copiedTodos.sort(() => Math.random() - 0.5);\n\n    this.setState({\n      todos: copiedTodos,\n    });\n  };\n\n  render() {\n    const {\n      selectedUserId,\n      titleToSearch,\n      todosToShow,\n    } = this.state;\n    const preparedTodos = this.prepareTodos();\n\n    return (\n      <div className=\"App\">\n        <div className=\"App__sidebar\">\n          <TodoList\n            todos={preparedTodos}\n            selectUser={this.selectUser}\n            selectedUserId={selectedUserId}\n            handleChange={this.handleChange}\n            titleToSearch={titleToSearch}\n            todosToShow={todosToShow}\n            randomize={this.randomizeOrder}\n            changeTodoStatus={this.changeTodoStatus}\n          />\n        </div>\n\n        <div className=\"App__content\">\n          <div className=\"App__content-container\">\n            {selectedUserId ? (\n              <CurrentUser\n                selectedUserId={selectedUserId}\n                selectUser={this.selectUser}\n              />\n            ) : 'No user selected'}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}